<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout - OnlineGameFusionLab.com</title>
    <link rel="icon" type="image/png" href="public/favicon.png" />
    <meta
      name="description"
      content="Complete your purchase securely at OnlineGameFusionLab.com. Review your order, enter payment details, and get instant access to your digital games with our safe checkout process."
    />
    <link rel="stylesheet" href="styles/visual-essence.css" />
    <link rel="stylesheet" href="styles/checkout-styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="navigation-container"></div>

    <main class="checkout-main">
      <div class="container">
        <!-- Progress Indicator -->
        <div class="checkout-progress">
          <div class="progress-step progress-step--active" data-step="1">
            <div class="progress-step__number">1</div>
            <span class="progress-step__label">Contact Info</span>
          </div>
          <div class="progress-step" data-step="2">
            <div class="progress-step__number">2</div>
            <span class="progress-step__label">Review</span>
          </div>
        </div>

        <div class="checkout-layout">
          <!-- Main Checkout Form -->
          <div class="checkout-form-section">
            <!-- Step 1: Contact Information -->
            <div class="checkout-step" id="step-1" data-step="1">
              <div class="step-header">
                <h2>Contact Information</h2>
                <p>Enter your contact details to complete your order</p>
              </div>

              <form class="checkout-form" id="contact-form">
                <div class="form-group">
                  <label for="name">Name *</label>
                  <input type="text" id="name" name="name" required />
                </div>

                <div class="form-group">
                  <label for="email">Email Address *</label>
                  <input type="email" id="email" name="email" required />
                </div>

                <div class="form-group">
                  <label for="phone">Phone Number</label>
                  <input type="tel" id="phone" name="phone" />
                </div>

                <div class="step-actions">
                  <button
                    type="button"
                    class="btn btn--secondary"
                    onclick="window.location.href='shopping-cart.html'"
                  >
                    Back to Cart
                  </button>
                  <button type="submit" class="btn btn--primary">
                    Continue to Review
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <polyline points="9,18 15,12 9,6"></polyline>
                    </svg>
                  </button>
                </div>
              </form>
            </div>

            <!-- Step 2: Order Review -->
            <div
              class="checkout-step"
              id="step-2"
              data-step="2"
              style="display: none"
            >
              <div class="step-header">
                <h2>Order Review</h2>
                <p>Please review your order before completing the purchase</p>
              </div>

              <div class="order-review">
                <div class="review-section">
                  <h3>Contact Information</h3>
                  <div class="review-info" id="contact-review">
                    <!-- Will be populated dynamically -->
                  </div>
                  <button
                    type="button"
                    class="btn btn--text"
                    onclick="checkoutManager.editStep(1)"
                  >
                    Edit
                  </button>
                </div>

                <div class="review-section">
                  <h3>Order Items</h3>
                  <div class="order-items" id="order-items-review">
                    <!-- Will be populated dynamically -->
                  </div>
                </div>
              </div>

              <div class="step-actions">
                <button
                  type="button"
                  class="btn btn--secondary"
                  onclick="checkoutManager.previousStep()"
                >
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <polyline points="15,18 9,12 15,6"></polyline>
                  </svg>
                  Back
                </button>
                <button
                  type="button"
                  class="btn btn--primary"
                  id="place-order-btn"
                >
                  <span class="btn__text">Place Order</span>
                  <div class="btn__loader" style="display: none">
                    <div class="spinner"></div>
                  </div>
                </button>
              </div>
            </div>
          </div>

          <!-- Order Summary Sidebar -->
          <div class="order-summary-section">
            <div class="order-summary">
              <h3>Order Summary</h3>

              <div class="summary-items" id="summary-items">
                <!-- Will be populated dynamically -->
              </div>

              <div class="summary-totals">
                <div class="summary-row">
                  <span>Subtotal</span>
                  <span id="subtotal">$0.00</span>
                </div>
                <div class="summary-row">
                  <span>Tax (8%)</span>
                  <span id="tax">$0.00</span>
                </div>
                <div class="summary-row summary-row--total">
                  <span>Total</span>
                  <span id="total">$0.00</span>
                </div>
              </div>

              <div class="security-badges">
                <div class="security-badge">
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"
                    ></path>
                  </svg>
                  <span>Secure Order</span>
                </div>
                <div class="security-badge">
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M9 12l2 2 4-4"></path>
                    <path
                      d="M21 12c-1 0-2-1-2-2s1-2 2-2 2 1 2 2-1 2-2 2z"
                    ></path>
                    <path
                      d="M3 12c1 0 2-1 2-2s-1-2-2-2-2 1-2 2 1 2 2 2z"
                    ></path>
                  </svg>
                  <span>SSL Encrypted</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Success Modal -->
    <div class="modal-overlay" id="success-modal" style="display: none">
      <div class="modal-content">
        <div class="success-animation">
          <div class="success-checkmark">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M9 12l2 2 4-4"></path>
              <path d="M21 12c-1 0-2-1-2-2s1-2 2-2 2 1 2 2-1 2-2 2z"></path>
              <path d="M3 12c1 0 2-1 2-2s-1-2-2-2-2 1-2 2 1 2 2 2z"></path>
            </svg>
          </div>
        </div>
        <h2>Order Confirmed!</h2>
        <p>
          Thank you for your purchase. Your order has been successfully placed.
        </p>
        <div class="order-details">
          <p><strong>Order ID:</strong> <span id="order-id"></span></p>
          <p><strong>Total:</strong> <span id="order-total"></span></p>
        </div>
        <div class="modal-actions">
          <button
            type="button"
            class="btn btn--primary"
            onclick="checkoutManager.goToHome()"
          >
            Continue Shopping
          </button>
        </div>
      </div>
    </div>

    <div id="footer-container"></div>

    <script src="scripts/navigation-injector.js"></script>
    <script src="scripts/checkout-manager.js"></script>
    <script>
      // Initialize navigation and checkout
      document.addEventListener("DOMContentLoaded", function () {
        navigationInjectionSystem.initializeInjectionSystem();
        checkoutManager.initializeCheckout();
      });
    </script>
  </body>
</html>
